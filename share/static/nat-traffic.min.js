(function(e,h,d,f,g){e(".plug-flot").on("plotclick",function(b,a,c){c&&(location.hash="#!/"+c.series.label[0]+"/"+c.series.label)});h={series:{lines:{show:!0},points:{show:!0}},grid:{clickable:!0,hoverable:!0},legend:{noColumns:6,labelFormatter:function(b,a){switch(b){case "21":a="\u6021\u541b";break;case "22":a="\u8273\u6885";break;case "61":a="\u670b\u670b";break;case "62":a="\u5217\u6052";break;case "63":a="\u8bb8\u4f1a";break;case "64":a="\u6768\u96f7";break;case "65":a="\u5e05\u5e05";break;case "66":a=
"\u76f8\u7434";break;case "67":a="\u90a2\u67f3";break;case "71":a="\u90b1\u6668";break;case "72":a="\u5fd7\u5f3a";break;case "73":a="\u4fca\u9e4f";break;case "74":a="\u6587\u541b";break;case "75":a="\u660e\u4e50";break;case "76":a="\u8463\u5029";break;case "91":a="\u6234\u5bc5";break;case "92":a="\u715c\u5b87";break;case "93":a="\u524d\u8fdb";break;default:return b}return'<a href="#!/'+b[0]+"/"+b+'">'+a+"</a>"}},xaxis:{mode:"time",timezone:"browser"},yaxis:{ticks:function(b,a,c,d){a=[4,16,32,48,64,
128,192,256,512,768,1024,2048,3072,4096,8192,12288,16384];c=[];for(d in a)if(d=a[d],c.push([1024*d,d]),1024*d>b.datamax)break;return c}}};d={};f=function(b,a,c){b="^.*$";location.hash.length&&"#!/"==location.hash.substr(0,3)&&(b=location.hash.substr(3),b=-1==b.indexOf("/")?"^"+b:"^"+b.split("/")[1]+"$");b=new RegExp(b);a=[];for(c in d["in"])c.match(b)&&a.push(d["in"][c]);e.plot(".plug-flot",a,h)};g=function(){e.getJSON("v/traffic.json",function(b,a,c){d["in"]={};d.out={};for(a in b)for(c in d["in"][a]=
{label:a,data:[]},d.out[a]={label:a,data:[]},b[a])d["in"][a].data.push([1E3*c,b[a][c]["in"]/60]),d.out[a].data.push([1E3*c,b[a][c].out/60]);f()})};e(window).on("hashchange",f);setInterval(g,6E4);g()})(jQuery);
